# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

* Электронные чеки в json виде - *Ответ: документо-ориентированная БД для хранения json документов.*
* Склады и автомобильные дороги для логистической компании - *Ответ: сетевая БД, так как сетевой узел может иметь отношения с несколькими объектами.*
* Генеалогические деревья - *Ответ: иерархическая БД, так как генеалогические деревья имеют иерархическую структуру.*
* Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - *Ответ: ключ-значение БД, так как хранение подразумевает ключ (идентификатор), значение (клиент).*
* Отношения клиент-покупка для интернет-магазина - *Ответ: реляционная БД, так как хранение данных ввиде таблиц вполне подошла бы для этого.*

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

* Данные записываются на все узлы с задержкой до часа (асинхронная запись) - *Ответ: AP, PA/EC*
* При сетевых сбоях, система может разделиться на 2 раздельных кластера - *Ответ: CA, PA/EL*
* Система может не прислать корректный ответ или сбросить соединение - Ответ: CP, PC/EC

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему? - *Ответ: в одной системе сочетаться принципы BASE и ACID не могут, так как используют противоположные подходы к транзакциям. ACID - надёжность и предсказуемость, BASE - производительность в ущерб надёжности и предсказуемости.*

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

* фиксация некоторых значений с временем жизни
* реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). Что это за система? Какие минусы выбора данной системы?

*Ответ: это СУБД "Redis". Минусы выбора данной системы:*

*(1) Проблема согласованности двойной записи кеша и базы данных.
(2) Проблема лавинного кеширования
(3) Проблема с разрывом кеша.
(4) Одновременная конкуренция за кеш*
